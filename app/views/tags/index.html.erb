<%= render 'shared/navigation' %>
<%= render 'shared/content_title', title: 'Tags' %>

<% if @tags.size == 0 %>
  <p>There are no tags to display. <%= link_to 'Create a Tag', new_tag_path %></p>
<% end %>

<table class='table table-striped table-bordered'>
  <thead>
    <tr>
      <th class='text-center'>Name</th>
      <th class='number text-center'>Tickets</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @tags.each do |tag| %>
      <tr>
        <td class='text-center'>
          <%= tag.name %>
        </td>
        <td class='text-center'>
          <%= link_to @tickets_per_tag[tag.id] || 0, tag_path(tag.id) %>
        </td>
        <td class='text-center'>
          <p>
          <%= link_to 'Edit', edit_tag_path(tag.id), class: 'btn btn-sm btn-primary' %>
          <%= link_to 'Delete', tag_path(tag.id), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-secondary' %>
          </p>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class='text-center'>
  <%= link_to 'New Tag', new_tag_path, class: 'btn btn-primary'%>
</div>